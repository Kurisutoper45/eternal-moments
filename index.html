<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Eternal Moments ‚Äî Chris √ó Ita</title>
<meta name="description" content="Setiap momen kecil kita, tetap abadi di waktu.">
<style>
:root{
  --bg:#fff8f3;
  --fg:#1f2937;
  --muted:#6b7280;
  --card:#ffffff;
  --border:#f1e5da;
  --accent:#e86a7c;
  --accent-2:#ffdcb2;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Inter}
.container{max-width:1080px;margin:0 auto;padding:0 16px}
header{position:sticky;top:0;border-bottom:1px solid var(--border);backdrop-filter:blur(8px);
  background:rgba(255,248,243,.85)}
.nav{height:64px;display:flex;align-items:center;justify-content:space-between}
.btn{padding:10px 14px;border:1px solid var(--border);border-radius:999px;background:#fff;color:var(--fg);box-shadow:0 1px 0 rgba(0,0,0,.04)}
.btn:hover{transform:translateY(-1px)}
.section{padding:72px 0}
.title{font-weight:900;font-size:44px;letter-spacing:-.02em}
.subtitle{color:var(--accent);opacity:.95}
.card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:16px;box-shadow:0 4px 20px rgba(232,106,124,.08)}
.grid{display:grid;gap:16px}
.grid-2{grid-template-columns:repeat(2,minmax(0,1fr))}
.grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}
.hero img{width:100%;border-radius:18px;border:1px solid var(--border);object-fit:cover;max-height:460px}
.gallery img{width:100%;height:220px;object-fit:cover;border-radius:14px;border:1px solid var(--border);display:block}
.badge{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px dashed var(--border);background:var(--accent-2);color:#7a503f}
.note-cloud{position:relative}
.note{position:absolute;opacity:0;user-select:none;pointer-events:none}
.note.show{animation:floatUp 2s ease-in infinite}
.note.n2{left:12px;animation-delay:.3s}
.note.n3{left:24px;animation-delay:.6s}
@keyframes floatUp{
  0%{transform:translateY(8px) rotate(0deg);opacity:0}
  10%{opacity:1}
  100%{transform:translateY(-26px) rotate(12deg);opacity:0}
}
#tapHint{
  position:fixed;left:50%;bottom:18px;transform:translateX(-50%);
  background:rgba(255,255,255,.85);color:#7a503f;border:1px solid var(--border);
  padding:8px 14px;border-radius:12px;font-size:14px;font-family:system-ui,-apple-system,Segoe UI,Inter;
  backdrop-filter:blur(4px);z-index:9999;opacity:1;animation:hintIn .3s ease;
  box-shadow:0 8px 24px rgba(232,106,124,.15)
}
@keyframes hintIn{from{opacity:0;transform:translateX(-50%) translateY(8px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}
@media (max-width:820px){
  .grid-2{grid-template-columns:1fr}
  .grid-3{grid-template-columns:1fr}
  .title{font-size:32px}
  .gallery img{height:180px}
}

.music-cta{isolation:isolate}
.music-cta .wave{position:absolute; inset:-6px; border:2px solid var(--accent); border-radius:999px; opacity:0; transform:scale(.85);}
.music-cta.playing .wave{animation:ripple 1.8s ease-out infinite}
.music-cta.playing .wave.w2{animation-delay:.4s}
.music-cta.playing .wave.w3{animation-delay:.8s}
@keyframes ripple{
  0%{opacity:.35; transform:scale(.85)}
  70%{opacity:.08}
  100%{opacity:0; transform:scale(1.25)}
}

</style>
</head>
<body>
<header>
  <div class="container nav">
    <a href="#" style="font-weight:800;color:var(--fg)">‚ú® Eternal Moments</a>
    <nav style="display:flex;gap:10px;font-size:14px;color:var(--fg)">
      <a href="#story">Timeline</a>
      <a href="#gallery">Galeri</a>
      <a href="#videos">Video</a>
      <a href="#friends">Saran Teman</a>
    </nav>
    </div>
</header>

<main>
  <section class="hero">
    <div class="container" style="display:grid;grid-template-columns:1.2fr .8fr;gap:20px;align-items:center;padding:40px 0">
      <div>
        <span class="badge">üíó Tap di mana saja atau klik tombol di bawah ini untuk mendengarkan kisah kami</span>
        <h1 class="title">Eternal Moments ‚Äî Chris √ó Ita</h1>
        <p class="subtitle">‚ÄúSetiap momen kecil kita, tetap abadi di waktu.‚Äù</p>
        <div style="margin-top:18px"><a href="#gallery" class="btn">Lihat galeri</a></div>
      <div style="margin-top:12px;display:flex;gap:12px;align-items:center;flex-wrap:wrap">
        <button id="musicCTA" class="btn music-cta" style="background:var(--accent); color:white; font-weight:700; position:relative; overflow:visible">üé∂ Dengarkan kisah kami<span class="wave w1"></span><span class="wave w2"></span><span class="wave w3"></span></button>
        <span id="noteCloud" style="position:relative; height:0">
          <span class="note n1" style="position:absolute;left:0;opacity:0">üé∂</span>
          <span class="note n2" style="position:absolute;left:14px;opacity:0;animation-delay:.25s">üéµ</span>
          <span class="note n3" style="position:absolute;left:28px;opacity:0;animation-delay:.5s">üé∂</span>
        </span>
      </div>

      </div>
      <img src="assets/photos/cover.jpg?v=4" alt="Cover">
    </div>
  </section>

  
  <section id="story" class="section">
    <div class="container">
      <h2 style="margin:0 0 14px 0">Our Story ‚Äî Chris & Ita</h2>
      <article class="card" style="max-width:860px; line-height:1.7; font-size:16.5px">
        <p>Kadang semesta punya cara yang aneh tapi indah buat mempertemukan dua orang.
        Nggak direncanain, nggak disengaja, cuma kebetulan yang ternyata berarti besar.
        Begitulah awal cerita kita ‚Äî dua orang yang awalnya dikenalkan oleh teman, tanpa tahu kalau pertemuan sederhana itu bakal berubah jadi sesuatu yang istimewa.</p>

        <p>Awalnya cuma basa-basi, obrolan ringan, dan tawa kecil yang nggak disangka bisa tumbuh jadi rasa.
        Nggak ada momen dramatis, nggak ada janji manis berlebihan cuma dua hati yang pelan-pelan saling ngerti tanpa banyak kata.</p>

        <p>Sampai akhirnya, 23 Juli 2025, jadi hari yang kita ingat.
        Hari di mana dua orang yang awalnya cuma dikenalkan memutuskan buat jalan bareng, bukan cuma buat sekarang, tapi buat masa depan juga.
        Hari di mana semuanya resmi dimulai ‚Äî dengan perasaan yang tulus dan niat yang nyata.</p>

        <p>Seiring waktu, hubungan ini tumbuh jadi lebih dari sekadar ‚Äúbersama.‚Äù
        Kita belajar saling memahami, saling bertumbuh, dan saling menjaga.
        Nggak selalu mudah, tapi selalu berarti. Karena dari awal, tujuan kita bukan cuma buat punya cerita tapi buat membangun masa depan bareng.</p>

        <p>Dan selama waktu terus berjalan, satu hal nggak akan berubah:
        kita tetap dua orang yang bersyukur, karena dari perkenalan kecil itu, semesta ternyata lagi nulis salah satu kisah terbaik dalam hidup kita.</p>
      </article>
    </div>
  </section>


  <section id="gallery" class="section">
    <div class="container">
      <h2 style="margin:0 0 12px 0">Memory Frames</h2>
      <div class="grid grid-3 gallery" id="galleryGrid"></div>
    </div>
  </section>

  <section id="videos" class="section">
    <div class="container">
      <h2 style="margin:0 0 12px 0">Video Memories</h2>
      <div class="grid grid-2" id="videoGrid"></div>
    </div>
  </section>

  <section id="friends" class="section">
    <div class="container">
      <h2 style="margin:0 0 12px 0">Words from Our Friends</h2>
      <div class="grid grid-3">
        <form class="card" id="advForm">
          <h4 style="margin:0 0 8px 0">üí¨ Titip saran atau doa</h4>
          <input id="advName" placeholder="Nama" class="btn" style="width:100%;margin-top:8px">
          <textarea id="advText" placeholder="Saran terbaikmu..." class="btn" style="width:100%;height:96px;margin-top:8px"></textarea>
          <button class="btn" style="width:100%;margin-top:8px">Kirim</button>
        </form>
        <div class="grid" id="advList" style="grid-column:span 2"></div>
      </div>
    </div>
  </section>

  <footer class="section" style="border-top:1px solid var(--border)">
    <div class="container muted">Dibuat dengan ‚ù§Ô∏è oleh Chris untuk Ita. ¬© <span id="year"></span></div>
  </footer>
</main>

<!-- AUDIO -->
<audio id="bgm" src="assets/music/bg-melody.mp3?v=4" loop preload="auto"></audio>

<!-- TAP-TO-PLAY HINT -->
<div id="tapHint">üéß Sentuh layar untuk mulai kenangan ini</div>

<script>
// DATA
const GALLERY = [
  { src: "assets/photos/cover.jpg?v=4", caption: "Cover" },
  { src: "assets/photos/photo1.jpg?v=4", caption: "Momen 1" },
  { src: "assets/photos/photo2.jpg?v=4", caption: "Momen 2" },
  { src: "assets/photos/photo3.jpg?v=4", caption: "Momen 3" },
  { src: "assets/photos/photo4.jpg?v=4", caption: "Momen 4" },
  { src: "assets/photos/photo5.jpg?v=4", caption: "Momen 5" },
  { src: "assets/photos/photo6.jpg?v=4", caption: "Momen 6" }
];
const VIDEOS = [
  { src: "assets/videos/day1.mp4?v=4", poster: "assets/photos/cover.jpg?v=4", caption: "Day 1 ‚Äî Kita mulai pacaran" }
];
document.getElementById("year").textContent = new Date().getFullYear();

// Render gallery
const gg = document.getElementById("galleryGrid");
GALLERY.forEach(g=>{
  const fig = document.createElement("figure");
  fig.className="card";
  fig.innerHTML = `<img src="${g.src}" alt=""><figcaption class="muted" style="margin-top:8px;font-size:14px">${g.caption||""}</figcaption>`;
  gg.appendChild(fig);
});
// Render videos
const vg = document.getElementById("videoGrid");
VIDEOS.forEach(v=>{
  const fig = document.createElement("figure");
  fig.className="card";
  fig.innerHTML = `<video controls preload="metadata" poster="${v.poster||''}" style="width:100%;border-radius:12px">
    <source src="${v.src}" type="video/mp4"> Browser kamu tidak mendukung video.
  </video><figcaption class="muted" style="margin-top:8px;font-size:14px">${v.caption||""}</figcaption>`;
  vg.appendChild(fig);
});

// FRIENDS' ADVICE (localStorage)
const advKey = "em_advices";
let advices = []; try { advices = JSON.parse(localStorage.getItem(advKey)||"[]"); } catch(e){}
function renderAdv(){
  const list = document.getElementById("advList"); list.innerHTML="";
  if(advices.length===0){ const p=document.createElement("p"); p.className="muted"; p.textContent="Belum ada saran. Jadi yang pertama, dong."; list.appendChild(p); return; }
  advices.forEach(a=>{
    const c=document.createElement("div"); c.className="card";
    c.innerHTML=`<div style='display:flex;justify-content:space-between;align-items:center'><strong>${a.name}</strong><span class='muted' style='font-size:12px'>${new Date(a.at).toLocaleString("id-ID")}</span></div><p style='margin:6px 0 0 0'>${a.text}</p>`;
    list.appendChild(c);
  });
}
renderAdv();
document.getElementById("advForm").addEventListener("submit",(e)=>{
  e.preventDefault();
  const n=document.getElementById("advName").value.trim();
  const t=document.getElementById("advText").value.trim();
  if(!n||!t) return;
  advices=[{name:n,text:t,at:new Date().toISOString()},...advices];
  localStorage.setItem(advKey, JSON.stringify(advices));
  renderAdv();
  e.target.reset();
});


/* AUDIO LOGIC: robust autop
# small, focused functions to ensure play on mobile
*/
const audio = document.getElementById('bgm');
const musicCTA = document.getElementById('musicCTA');
const noteCloud = document.getElementById('noteCloud');
const tapHint = document.getElementById('tapHint');
let isPlaying = false;
let unlocked = false;

function showNotes(on){
  if(!noteCloud) return;
  noteCloud.style.opacity = on ? '1' : '0';
}
function hideTapHint(){ if(tapHint){ tapHint.style.opacity=0; setTimeout(()=>tapHint && tapHint.remove(),600);} }

// try silent autoplay (muted) to warm up the browser
window.addEventListener('load', ()=>{
  try{ audio.muted = true; audio.volume = 0; audio.play().catch(()=>{}); }catch(e){}
});

// unlock on first user interaction anywhere
function unlockAndFade(){
  if(unlocked) return; unlocked = true;
  try{
    audio.muted = false;
    let v = audio.volume || 0;
    const target = 0.8;
    const step = 0.06;
    const id = setInterval(()=>{
      v = Math.min(target, v + step);
      audio.volume = v;
      if(v >= target) clearInterval(id);
    }, 80);
    audio.play().catch(()=>{});
  }catch(e){}
  hideTapHint();
  document.removeEventListener('click', unlockAndFade, true);
  document.removeEventListener('touchstart', unlockAndFade, true);
}

document.addEventListener('click', unlockAndFade, {capture:true, passive:true});
document.addEventListener('touchstart', unlockAndFade, {capture:true, passive:true});

// CTA button toggle
if(musicCTA){
  musicCTA.addEventListener('click', (e)=>{
    e.stopPropagation();
    if(audio.paused){
      audio.muted = false;
      audio.volume = 0.8;
      audio.play().then(()=>{
        isPlaying = true;
        musicCTA.textContent = '‚è∏ Jeda musik';
        musicCTA.classList.add('playing');
        showNotes(true);
      }).catch(()=>{});
    } else {
      audio.pause();
      isPlaying = false;
      musicCTA.textContent = 'üé∂ Dengarkan kisah kami';
      musicCTA.classList.remove('playing');
      showNotes(false);
    }
  });
}

// sync UI with audio state
audio.addEventListener('playing', ()=>{ isPlaying=true; musicCTA && (musicCTA.textContent='‚è∏ Jeda musik', musicCTA.classList.add('playing')); showNotes(true); hideTapHint(); });
audio.addEventListener('pause', ()=>{ isPlaying=false; musicCTA && (musicCTA.textContent='üé∂ Dengarkan kisah kami', musicCTA.classList.remove('playing')); showNotes(false); });

// safety: pause when tab hidden
document.addEventListener('visibilitychange', ()=>{ if(document.hidden && isPlaying){ audio.pause(); } });

// Render note cloud small animation toggles
(function(){
  const notes = document.querySelectorAll('.note');
  notes.forEach(n=>{ n.style.opacity=0; });
})();

// render gallery & videos already done above; remove tapHint on first interaction too
['click','touchstart','keydown','scroll'].forEach(evt=> document.addEventListener(evt, ()=>{ hideTapHint(); }, { once:true, passive:true }));

document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>
